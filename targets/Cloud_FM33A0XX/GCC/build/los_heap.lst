ARM GAS  C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s 			page 1


   1              		.syntax unified
   2              		.cpu cortex-m0plus
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 0
  12              		.eabi_attribute 18, 4
  13              		.thumb
  14              		.syntax unified
  15              		.file	"los_heap.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.osHeapPrvGetNext,"ax",%progbits
  20              		.align	2
  21              		.global	osHeapPrvGetNext
  22              		.code	16
  23              		.thumb_func
  25              	osHeapPrvGetNext:
  26              	.LFB43:
  27              		.file 1 "e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little/los_h
   1:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** /*----------------------------------------------------------------------------
   2:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****  * Copyright (c) <2013-2015>, <Huawei Technologies Co., Ltd>
   3:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****  * All rights reserved.
   4:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****  * Redistribution and use in source and binary forms, with or without modification,
   5:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****  * are permitted provided that the following conditions are met:
   6:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****  * 1. Redistributions of source code must retain the above copyright notice, this list of
   7:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****  * conditions and the following disclaimer.
   8:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice, this list
   9:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****  * of conditions and the following disclaimer in the documentation and/or other materials
  10:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****  * provided with the distribution.
  11:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****  * 3. Neither the name of the copyright holder nor the names of its contributors may be used
  12:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****  * to endorse or promote products derived from this software without specific prior written
  13:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****  * permission.
  14:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****  * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
  15:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****  * "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  16:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****  * THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  17:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****  * PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR
  18:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****  * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  19:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  20:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****  * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;
  21:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****  * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
  22:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****  * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
  23:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****  * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
  24:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****  * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  25:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****  *---------------------------------------------------------------------------*/
  26:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** /*----------------------------------------------------------------------------
  27:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****  * Notice of Export Control Law
  28:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****  * ===============================================
  29:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****  * Huawei LiteOS may be subject to applicable export control laws and regulations, which might
  30:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****  * include those applicable to Huawei LiteOS of U.S. and the country in which you are located.
  31:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****  * Import, export and usage of Huawei LiteOS in any manner by you shall be in compliance with such
ARM GAS  C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s 			page 2


  32:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****  * applicable export control laws and regulations.
  33:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****  *---------------------------------------------------------------------------*/
  34:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
  35:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** /**@defgroup los_heap Heap
  36:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****  * @ingroup kernel
  37:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****  */
  38:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** #include <string.h>
  39:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** #include <los_hwi.h>
  40:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** #include <los_config.h>
  41:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** #include <los_heap.ph>
  42:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** #include <los_typedef.h>
  43:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
  44:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** #if (LOSCFG_MEM_TASK_USED_STATISTICS == YES)
  45:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** #include "los_memstat.inc"
  46:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** #endif
  47:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
  48:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** LITE_OS_SEC_DATA_INIT static UINT32 g_uwAllocCount = 0;
  49:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** LITE_OS_SEC_DATA_INIT static UINT32 g_uwFreeCount = 0;
  50:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
  51:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** #if (LOSCFG_HEAP_MEMORY_PEAK_STATISTICS == YES)
  52:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** LITE_OS_SEC_DATA_INIT static UINT32 g_uwCurHeapUsed = 0;
  53:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** LITE_OS_SEC_DATA_INIT static UINT32 g_uwMaxHeapUsed = 0;
  54:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** #endif
  55:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
  56:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** #define HEAP_CAST(t, exp) ((t)(exp))
  57:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** #define HEAP_ALIGN 4
  58:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** #define ALIGNE(sz) (sz + HEAP_ALIGN - 1) & ~(HEAP_ALIGN - 1)
  59:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
  60:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** /*****************************************************************************
  61:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****  Function : osHeapPrvGetNext
  62:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****  Description : look up the next memory node according to one memory node in the memory block list.
  63:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****  Input       : struct LOS_HEAP_MANAGER *pHeapMan    --- Pointer to the manager,to distinguish heap
  64:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****                struct LOS_HEAP_NODE* node  --- Size of memory in bytes to allocate
  65:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****  Output      : None
  66:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****  Return      : Pointer to next memory node
  67:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** *****************************************************************************/
  68:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** LITE_OS_SEC_TEXT struct LOS_HEAP_NODE* osHeapPrvGetNext(struct LOS_HEAP_MANAGER *pstHeapMan, struct
  69:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** {
  28              		.loc 1 69 0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		@ link register save eliminated.
  33              	.LVL0:
  70:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     return (pstHeapMan->pstTail == pstNode) ? NULL : (struct LOS_HEAP_NODE*)(pstNode->ucData + pstN
  34              		.loc 1 70 0
  35 0000 4368     		ldr	r3, [r0, #4]
  36 0002 8B42     		cmp	r3, r1
  37 0004 06D0     		beq	.L3
  38              		.loc 1 70 0 is_stmt 0 discriminator 1
  39 0006 0B00     		movs	r3, r1
  40 0008 0833     		adds	r3, r3, #8
  41 000a 4868     		ldr	r0, [r1, #4]
  42              	.LVL1:
  43 000c 8000     		lsls	r0, r0, #2
  44 000e 8008     		lsrs	r0, r0, #2
  45 0010 1818     		adds	r0, r3, r0
ARM GAS  C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s 			page 3


  46 0012 00E0     		b	.L2
  47              	.LVL2:
  48              	.L3:
  49              		.loc 1 70 0
  50 0014 0020     		movs	r0, #0
  51              	.LVL3:
  52              	.L2:
  71:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** }
  53              		.loc 1 71 0 is_stmt 1 discriminator 4
  54              		@ sp needed
  55 0016 7047     		bx	lr
  56              		.cfi_endproc
  57              	.LFE43:
  59              		.section	.text.osHeapInit,"ax",%progbits
  60              		.align	2
  61              		.global	osHeapInit
  62              		.code	16
  63              		.thumb_func
  65              	osHeapInit:
  66              	.LFB44:
  72:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
  73:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** /*****************************************************************************
  74:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****  Function : osHeapInit
  75:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****  Description : To initialize the heap memory and get the begin address and size of heap memory,then
  76:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****  Input       : struct LOS_HEAP_MANAGER *pHeapMan    --- Pointer to the manager,to distinguish heap
  77:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****                VOID *pPool  --- begin address of the heap memory pool
  78:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****                UITN32 uwSz  --- size of the heap memory pool
  79:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****  Output      : None
  80:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****  Return      : 1:success 0:error
  81:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** *****************************************************************************/
  82:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** LITE_OS_SEC_TEXT_INIT BOOL osHeapInit(VOID *pPool, UINT32 uwSz)
  83:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** {
  67              		.loc 1 83 0
  68              		.cfi_startproc
  69              		@ args = 0, pretend = 0, frame = 0
  70              		@ frame_needed = 0, uses_anonymous_args = 0
  71              	.LVL4:
  72 0000 70B5     		push	{r4, r5, r6, lr}
  73              	.LCFI0:
  74              		.cfi_def_cfa_offset 16
  75              		.cfi_offset 4, -16
  76              		.cfi_offset 5, -12
  77              		.cfi_offset 6, -8
  78              		.cfi_offset 14, -4
  79 0002 0500     		movs	r5, r0
  80 0004 0C00     		movs	r4, r1
  81              	.LVL5:
  84:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     struct LOS_HEAP_NODE* pstNode;
  85:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     struct LOS_HEAP_MANAGER *pstHeapMan = HEAP_CAST(struct LOS_HEAP_MANAGER *, pPool);
  86:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
  87:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     if (!pstHeapMan || (uwSz <= (sizeof(struct LOS_HEAP_NODE) +  sizeof(struct LOS_HEAP_MANAGER))))
  82              		.loc 1 87 0
  83 0006 0028     		cmp	r0, #0
  84 0008 1AD0     		beq	.L6
  85              		.loc 1 87 0 is_stmt 0 discriminator 1
  86 000a 5829     		cmp	r1, #88
  87 000c 1AD9     		bls	.L7
ARM GAS  C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s 			page 4


  88:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         return FALSE;
  89:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
  90:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     memset(pPool, 0, uwSz);
  88              		.loc 1 90 0 is_stmt 1
  89 000e 0A00     		movs	r2, r1
  90 0010 0021     		movs	r1, #0
  91              	.LVL6:
  92 0012 FFF7FEFF 		bl	memset
  93              	.LVL7:
  91:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
  92:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     pstHeapMan->uwSize = uwSz;
  94              		.loc 1 92 0
  95 0016 AC60     		str	r4, [r5, #8]
  93:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
  94:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     pstNode = pstHeapMan->pstHead = (struct LOS_HEAP_NODE*)((UINT8*)pPool + sizeof(struct LOS_HEAP_
  96              		.loc 1 94 0
  97 0018 2A00     		movs	r2, r5
  98 001a 5032     		adds	r2, r2, #80
  99 001c 2A60     		str	r2, [r5]
 100              	.LVL8:
  95:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
  96:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     pstHeapMan->pstTail = pstNode;
 101              		.loc 1 96 0
 102 001e 6A60     		str	r2, [r5, #4]
  97:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
  98:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     pstNode->uwUsed = 0;
 103              		.loc 1 98 0
 104 0020 D379     		ldrb	r3, [r2, #7]
 105 0022 4021     		movs	r1, #64
 106 0024 8B43     		bics	r3, r1
 107 0026 D371     		strb	r3, [r2, #7]
  99:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     pstNode->pstPrev = NULL;
 108              		.loc 1 99 0
 109 0028 0023     		movs	r3, #0
 110 002a 2B65     		str	r3, [r5, #80]
 100:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     pstNode->uwSize = uwSz - sizeof(struct LOS_HEAP_NODE) - sizeof(struct LOS_HEAP_MANAGER);
 111              		.loc 1 100 0
 112 002c 583C     		subs	r4, r4, #88
 113              	.LVL9:
 114 002e A400     		lsls	r4, r4, #2
 115 0030 A308     		lsrs	r3, r4, #2
 116 0032 5168     		ldr	r1, [r2, #4]
 117 0034 8C0F     		lsrs	r4, r1, #30
 118 0036 A407     		lsls	r4, r4, #30
 119 0038 1C43     		orrs	r4, r3
 120 003a 5460     		str	r4, [r2, #4]
 101:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 102:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     return TRUE;
 121              		.loc 1 102 0
 122 003c 0120     		movs	r0, #1
 123 003e 02E0     		b	.L5
 124              	.LVL10:
 125              	.L6:
  88:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 126              		.loc 1 88 0
 127 0040 0020     		movs	r0, #0
 128              	.LVL11:
ARM GAS  C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s 			page 5


 129 0042 00E0     		b	.L5
 130              	.LVL12:
 131              	.L7:
 132 0044 0020     		movs	r0, #0
 133              	.LVL13:
 134              	.L5:
 103:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** }
 135              		.loc 1 103 0
 136              		@ sp needed
 137              	.LVL14:
 138 0046 70BD     		pop	{r4, r5, r6, pc}
 139              		.cfi_endproc
 140              	.LFE44:
 142              		.section	.text.osHeapFree,"ax",%progbits
 143              		.align	2
 144              		.global	osHeapFree
 145              		.code	16
 146              		.thumb_func
 148              	osHeapFree:
 149              	.LFB47:
 104:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 105:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** /*****************************************************************************
 106:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****  Function : osHeapAlloc
 107:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****  Description : To alloc memory block from the heap memory poll
 108:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****  Input       : VOID *pPool   --- Pointer to the manager,to distinguish heap
 109:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****                UINT32 uwSz   --- size of the heap memory pool
 110:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****  Output      : None
 111:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****  Return      : NULL:error    other value:the address of the memory we alloced
 112:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** *****************************************************************************/
 113:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** LITE_OS_SEC_TEXT VOID* osHeapAlloc(VOID *pPool, UINT32 uwSz)
 114:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** {
 115:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     struct LOS_HEAP_NODE *pstNode, *pstT, *pstBest = NULL;
 116:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     VOID* pRet = NULL;
 117:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     UINT32 uvIntSave;
 118:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 119:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     struct LOS_HEAP_MANAGER *pstHeapMan = HEAP_CAST(struct LOS_HEAP_MANAGER *, pPool);
 120:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     if (!pstHeapMan)
 121:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     {
 122:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         return NULL;
 123:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     }
 124:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 125:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     uvIntSave = LOS_IntLock();
 126:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 127:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     uwSz = ALIGNE(uwSz);
 128:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     pstNode = pstHeapMan->pstTail;
 129:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 130:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     while (pstNode)
 131:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     {
 132:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         if (!pstNode->uwUsed && pstNode->uwSize >= uwSz && (!pstBest || pstBest->uwSize > pstNode->
 133:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         {
 134:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****             pstBest = pstNode;
 135:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****             if (pstBest->uwSize == uwSz)
 136:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****             {
 137:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****                 goto SIZE_MATCH;
 138:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****             }
 139:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         }
 140:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         pstNode = pstNode->pstPrev;
ARM GAS  C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s 			page 6


 141:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     }
 142:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 143:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     if (!pstBest) /*alloc failed*/
 144:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     {
 145:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         PRINT_ERR("there's not enough whole to alloc %x Bytes!\n",uwSz);
 146:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         goto out;
 147:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     }
 148:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 149:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     if (pstBest->uwSize - uwSz > sizeof(struct LOS_HEAP_NODE))
 150:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     {
 151:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         /* hole divide into 2 */
 152:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         pstNode = (struct LOS_HEAP_NODE*)(pstBest->ucData + uwSz);
 153:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 154:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         pstNode->uwUsed = 0;
 155:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         pstNode->uwSize = pstBest->uwSize - uwSz- sizeof(struct LOS_HEAP_NODE);
 156:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         pstNode->pstPrev = pstBest;
 157:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 158:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         pstT = osHeapPrvGetNext(pstHeapMan, pstBest);
 159:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 160:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         if (pstT == NULL)
 161:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         {
 162:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****             pstHeapMan->pstTail = pstNode;      /* pstBest is tail */
 163:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         }
 164:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         else
 165:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         {
 166:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****             pstT->pstPrev = pstNode;
 167:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         }
 168:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 169:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         pstBest->uwSize = uwSz;
 170:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     }
 171:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 172:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** SIZE_MATCH:
 173:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     pstBest->uwAlign = 0;
 174:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     pstBest->uwUsed = 1;
 175:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     pRet = pstBest->ucData;
 176:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** #if (LOSCFG_MEM_TASK_USED_STATISTICS == YES)
 177:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     OS_MEM_ADD_USED(pstBest->uwSize);
 178:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** #endif
 179:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 180:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** #if (LOSCFG_HEAP_MEMORY_PEAK_STATISTICS == YES)
 181:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     g_uwCurHeapUsed += (uwSz + sizeof(struct LOS_HEAP_NODE));
 182:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     if(g_uwCurHeapUsed > g_uwMaxHeapUsed)
 183:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     {
 184:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         g_uwMaxHeapUsed = g_uwCurHeapUsed;
 185:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     }
 186:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** #endif
 187:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 188:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     g_uwAllocCount++;
 189:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 190:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** out:
 191:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     if (pstHeapMan->pstTail->uwSize < 1024)
 192:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         osAlarmHeapInfo(pstHeapMan);
 193:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 194:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     LOS_IntRestore(uvIntSave);
 195:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 196:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     return pRet;
 197:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** }
ARM GAS  C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s 			page 7


 198:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 199:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** /*****************************************************************************
 200:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****  Function : osHeapAllocAlign
 201:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****  Description : To alloc memory block from the heap memory poll with
 202:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****  Input       : VOID *pPool   --- Pointer to the manager,to distinguish heap
 203:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****                UINT32 uwSz   --- size of the heap memory pool
 204:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****                UINT32 uwBoundary --- boundary the heap needs align
 205:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****  Output      : None
 206:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****  Return      : NULL:error    other value:the address of the memory we alloced
 207:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** *****************************************************************************/
 208:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** LITE_OS_SEC_TEXT VOID* osHeapAllocAlign(VOID *pPool, UINT32 uwSz, UINT32 uwBoundary)
 209:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** {
 210:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     VOID *pRet = NULL;
 211:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     UINT32 uwUseSize;
 212:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     UINT32 uwGapSize;
 213:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     VOID *pAlignedPtr;
 214:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 215:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     if ((NULL == pPool) || (0 == uwSz) || (uwBoundary < sizeof(VOID *)) || !IS_ALIGNED(uwBoundary))
 216:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     {
 217:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         return NULL;
 218:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     }
 219:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 220:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     /* worst case is that the node happen to be 4 bytes ahead of the boundary */
 221:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     uwUseSize = uwSz + uwBoundary - sizeof(void*);
 222:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     pRet = osHeapAlloc(pPool, uwUseSize);
 223:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 224:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     if (pRet)
 225:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     {
 226:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         pAlignedPtr = (VOID *)OS_MEM_ALIGN(pRet, uwBoundary);
 227:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         if (pRet == pAlignedPtr)
 228:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         {
 229:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****             goto out;
 230:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         }
 231:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 232:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         uwGapSize = (UINT32)pAlignedPtr - (UINT32)pRet;
 233:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         OS_MEM_SET_ALIGN_FLAG(uwGapSize);
 234:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         *((UINT32 *)((UINT32)pAlignedPtr - 4)) = uwGapSize;
 235:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 236:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         pRet = pAlignedPtr;
 237:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     }
 238:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** out:
 239:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     return pRet;
 240:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** }
 241:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 242:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** /*****************************************************************************
 243:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****  Function : osHeapFree
 244:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****  Description : To free the  memory block from  heap memory poll
 245:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****  Input       : VOID* pPool      --- Pointer to the manager,to distinguish heap
 246:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****                VOID* pPtr:      --- the pointer of heap memory we want to free
 247:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****  Output      : None
 248:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****  Return      : 1:success 0:error
 249:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** *****************************************************************************/
 250:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** LITE_OS_SEC_TEXT BOOL osHeapFree(VOID *pPool, VOID* pPtr)
 251:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** {
 150              		.loc 1 251 0
 151              		.cfi_startproc
 152              		@ args = 0, pretend = 0, frame = 8
ARM GAS  C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s 			page 8


 153              		@ frame_needed = 0, uses_anonymous_args = 0
 154              	.LVL15:
 155 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 156              	.LCFI1:
 157              		.cfi_def_cfa_offset 20
 158              		.cfi_offset 4, -20
 159              		.cfi_offset 5, -16
 160              		.cfi_offset 6, -12
 161              		.cfi_offset 7, -8
 162              		.cfi_offset 14, -4
 163 0002 83B0     		sub	sp, sp, #12
 164              	.LCFI2:
 165              		.cfi_def_cfa_offset 32
 166 0004 0500     		movs	r5, r0
 167 0006 0F00     		movs	r7, r1
 168              	.LVL16:
 252:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     struct LOS_HEAP_NODE *pstNode, *pstT;
 253:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     UINT32 uvIntSave, uwGapSize;
 254:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     BOOL bRet = TRUE;
 255:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 256:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     struct LOS_HEAP_MANAGER *pstHeapMan = HEAP_CAST(struct LOS_HEAP_MANAGER *, pPool);
 257:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 258:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     if (!pstHeapMan || !pPtr)
 169              		.loc 1 258 0
 170 0008 0028     		cmp	r0, #0
 171 000a 7ED0     		beq	.L22
 172              		.loc 1 258 0 is_stmt 0 discriminator 1
 173 000c 0029     		cmp	r1, #0
 174 000e 7ED0     		beq	.L23
 259:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     {
 260:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         return LOS_NOK;
 261:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     }
 262:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 263:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     /* find the real ptr through gap size */
 264:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     uwGapSize = *((UINT32 *)((UINT32)pPtr - 4));
 175              		.loc 1 264 0 is_stmt 1
 176 0010 0B1F     		subs	r3, r1, #4
 177 0012 1B68     		ldr	r3, [r3]
 178              	.LVL17:
 265:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     if (OS_MEM_GET_ALIGN_FLAG(uwGapSize))
 179              		.loc 1 265 0
 180 0014 002B     		cmp	r3, #0
 181 0016 02DA     		bge	.L10
 266:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     {
 267:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         uwGapSize = OS_MEM_GET_ALIGN_GAPSIZE(uwGapSize);
 182              		.loc 1 267 0
 183 0018 5B00     		lsls	r3, r3, #1
 184              	.LVL18:
 185 001a 5B08     		lsrs	r3, r3, #1
 186              	.LVL19:
 268:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         pPtr = (VOID *)((UINT32)pPtr - uwGapSize);
 187              		.loc 1 268 0
 188 001c CF1A     		subs	r7, r1, r3
 189              	.LVL20:
 190              	.L10:
 269:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     }
 270:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
ARM GAS  C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s 			page 9


 271:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     if ((UINT32)pPtr < (UINT32)pstHeapMan->pstHead
 191              		.loc 1 271 0
 192 001e 3C00     		movs	r4, r7
 193 0020 2B68     		ldr	r3, [r5]
 194              	.LVL21:
 195 0022 BB42     		cmp	r3, r7
 196 0024 03D8     		bhi	.L11
 197              	.LVL22:
 272:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         || (UINT32)pPtr > ((UINT32)pstHeapMan->pstTail + sizeof(struct LOS_HEAP_NODE)))
 198              		.loc 1 272 0
 199 0026 6B68     		ldr	r3, [r5, #4]
 200 0028 0833     		adds	r3, r3, #8
 201 002a 9F42     		cmp	r7, r3
 202 002c 08D9     		bls	.L12
 203              	.L11:
 273:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     {
 274:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         PRINT_ERR("0x%x out of range!\n", (UINT32)pPtr);
 204              		.loc 1 274 0
 205 002e 3948     		ldr	r0, .L29
 206              	.LVL23:
 207 0030 FFF7FEFF 		bl	printf
 208              	.LVL24:
 209 0034 2100     		movs	r1, r4
 210 0036 3848     		ldr	r0, .L29+4
 211 0038 FFF7FEFF 		bl	printf
 212              	.LVL25:
 275:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         return FALSE;
 213              		.loc 1 275 0
 214 003c 0020     		movs	r0, #0
 215 003e 67E0     		b	.L9
 216              	.LVL26:
 217              	.L12:
 276:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     }
 277:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 278:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     uvIntSave = LOS_IntLock();
 218              		.loc 1 278 0
 219 0040 FFF7FEFF 		bl	LOS_IntLock
 220              	.LVL27:
 221 0044 0400     		movs	r4, r0
 222              	.LVL28:
 279:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 280:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     pstNode = ((struct LOS_HEAP_NODE*)pPtr) - 1;
 223              		.loc 1 280 0
 224 0046 3E00     		movs	r6, r7
 225 0048 083E     		subs	r6, r6, #8
 226              	.LVL29:
 281:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 282:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     /* check if the address is a node of the heap memory list*/
 283:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     if ((pstNode->uwUsed == 0) || (!((UINT32)pstNode == (UINT32)pstHeapMan->pstHead)
 227              		.loc 1 283 0
 228 004a F379     		ldrb	r3, [r6, #7]
 229 004c 5B06     		lsls	r3, r3, #25
 230 004e 50D5     		bpl	.L24
 231              		.loc 1 283 0 is_stmt 0 discriminator 1
 232 0050 2B68     		ldr	r3, [r5]
 233 0052 0196     		str	r6, [sp, #4]
 234 0054 B342     		cmp	r3, r6
ARM GAS  C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s 			page 10


 235 0056 0CD0     		beq	.L14
 284:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         && ((UINT32)pstNode->pstPrev < (UINT32)pstHeapMan->pstHead
 236              		.loc 1 284 0 is_stmt 1
 237 0058 3168     		ldr	r1, [r6]
 238 005a 8B42     		cmp	r3, r1
 239 005c 4BD8     		bhi	.L25
 285:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****             || (UINT32)pstNode->pstPrev > ((UINT32)pstHeapMan->pstTail + sizeof(struct LOS_HEAP_NOD
 240              		.loc 1 285 0
 241 005e 6B68     		ldr	r3, [r5, #4]
 242 0060 0833     		adds	r3, r3, #8
 243 0062 9942     		cmp	r1, r3
 244 0064 49D8     		bhi	.L26
 286:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****             || ((UINT32)osHeapPrvGetNext(pstHeapMan, pstNode->pstPrev) != (UINT32)pstNode)
 245              		.loc 1 286 0
 246 0066 2800     		movs	r0, r5
 247              	.LVL30:
 248 0068 FFF7FEFF 		bl	osHeapPrvGetNext
 249              	.LVL31:
 250 006c 019B     		ldr	r3, [sp, #4]
 251 006e 8342     		cmp	r3, r0
 252 0070 45D1     		bne	.L27
 253              	.L14:
 287:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         )))
 288:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     {
 289:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         bRet = FALSE;
 290:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         goto out;
 291:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     }
 292:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 293:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     /* set to unused status */
 294:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     pstNode->uwUsed = 0;
 254              		.loc 1 294 0
 255 0072 3B00     		movs	r3, r7
 256 0074 083B     		subs	r3, r3, #8
 257 0076 DA79     		ldrb	r2, [r3, #7]
 258 0078 4021     		movs	r1, #64
 259 007a 8A43     		bics	r2, r1
 260 007c DA71     		strb	r2, [r3, #7]
 295:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** #if (LOSCFG_MEM_TASK_USED_STATISTICS == YES)
 296:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     OS_MEM_REDUCE_USED(pstNode->uwSize);
 297:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** #endif
 298:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 299:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** #if (LOSCFG_HEAP_MEMORY_PEAK_STATISTICS == YES)
 300:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     if (g_uwCurHeapUsed >= (pstNode->uwSize + sizeof(struct LOS_HEAP_NODE)))
 261              		.loc 1 300 0
 262 007e 5B68     		ldr	r3, [r3, #4]
 263 0080 9B00     		lsls	r3, r3, #2
 264 0082 9B08     		lsrs	r3, r3, #2
 265 0084 1900     		movs	r1, r3
 266 0086 0831     		adds	r1, r1, #8
 267 0088 244A     		ldr	r2, .L29+8
 268 008a 1268     		ldr	r2, [r2]
 269 008c 9142     		cmp	r1, r2
 270 008e 05D8     		bhi	.L17
 301:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     {
 302:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         g_uwCurHeapUsed -= (pstNode->uwSize + sizeof(struct LOS_HEAP_NODE));
 271              		.loc 1 302 0
 272 0090 D31A     		subs	r3, r2, r3
ARM GAS  C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s 			page 11


 273 0092 083B     		subs	r3, r3, #8
 274 0094 214A     		ldr	r2, .L29+8
 275 0096 1360     		str	r3, [r2]
 276 0098 00E0     		b	.L17
 277              	.L28:
 303:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     }
 304:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** #endif
 305:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 306:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     /* unused region before and after combination */
 307:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     while (pstNode->pstPrev && !pstNode->pstPrev->uwUsed)
 308:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         pstNode = pstNode->pstPrev;
 278              		.loc 1 308 0
 279 009a 1E00     		movs	r6, r3
 280              	.LVL32:
 281              	.L17:
 307:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         pstNode = pstNode->pstPrev;
 282              		.loc 1 307 0
 283 009c 3368     		ldr	r3, [r6]
 284 009e 002B     		cmp	r3, #0
 285 00a0 15D0     		beq	.L18
 307:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         pstNode = pstNode->pstPrev;
 286              		.loc 1 307 0 is_stmt 0 discriminator 1
 287 00a2 DA79     		ldrb	r2, [r3, #7]
 288 00a4 5206     		lsls	r2, r2, #25
 289 00a6 F8D5     		bpl	.L28
 290 00a8 11E0     		b	.L18
 291              	.LVL33:
 292              	.L20:
 309:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 310:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     while (((pstT = osHeapPrvGetNext(pstHeapMan, pstNode)) != NULL) && !pstT->uwUsed)
 311:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     {
 312:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         pstNode->uwSize += sizeof(struct LOS_HEAP_NODE) + pstT->uwSize;
 293              		.loc 1 312 0 is_stmt 1
 294 00aa 4368     		ldr	r3, [r0, #4]
 295 00ac 9B00     		lsls	r3, r3, #2
 296 00ae 9F08     		lsrs	r7, r3, #2
 297 00b0 7168     		ldr	r1, [r6, #4]
 298 00b2 8B00     		lsls	r3, r1, #2
 299 00b4 9B08     		lsrs	r3, r3, #2
 300 00b6 DB19     		adds	r3, r3, r7
 301 00b8 0833     		adds	r3, r3, #8
 302 00ba 9B00     		lsls	r3, r3, #2
 303 00bc 9A08     		lsrs	r2, r3, #2
 304 00be 8B0F     		lsrs	r3, r1, #30
 305 00c0 9B07     		lsls	r3, r3, #30
 306 00c2 1343     		orrs	r3, r2
 307 00c4 7360     		str	r3, [r6, #4]
 313:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         if (pstHeapMan->pstTail == pstT)
 308              		.loc 1 313 0
 309 00c6 6B68     		ldr	r3, [r5, #4]
 310 00c8 9842     		cmp	r0, r3
 311 00ca 00D1     		bne	.L18
 314:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****             pstHeapMan->pstTail = pstNode;
 312              		.loc 1 314 0
 313 00cc 6E60     		str	r6, [r5, #4]
 314              	.LVL34:
 315              	.L18:
ARM GAS  C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s 			page 12


 310:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     {
 316              		.loc 1 310 0
 317 00ce 3100     		movs	r1, r6
 318 00d0 2800     		movs	r0, r5
 319 00d2 FFF7FEFF 		bl	osHeapPrvGetNext
 320              	.LVL35:
 321 00d6 0028     		cmp	r0, #0
 322 00d8 02D0     		beq	.L19
 310:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     {
 323              		.loc 1 310 0 is_stmt 0 discriminator 1
 324 00da C379     		ldrb	r3, [r0, #7]
 325 00dc 5B06     		lsls	r3, r3, #25
 326 00de E4D5     		bpl	.L20
 327              	.L19:
 315:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     }
 316:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 317:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     if ((pstT = osHeapPrvGetNext(pstHeapMan, pstNode)) != NULL)
 328              		.loc 1 317 0 is_stmt 1
 329 00e0 0028     		cmp	r0, #0
 330 00e2 00D0     		beq	.L21
 318:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         pstT->pstPrev = pstNode;
 331              		.loc 1 318 0
 332 00e4 0660     		str	r6, [r0]
 333              	.L21:
 319:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 320:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     g_uwFreeCount++;
 334              		.loc 1 320 0
 335 00e6 0E4A     		ldr	r2, .L29+12
 336 00e8 1368     		ldr	r3, [r2]
 337 00ea 0133     		adds	r3, r3, #1
 338 00ec 1360     		str	r3, [r2]
 254:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 339              		.loc 1 254 0
 340 00ee 0125     		movs	r5, #1
 341              	.LVL36:
 342 00f0 06E0     		b	.L13
 343              	.LVL37:
 344              	.L24:
 289:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         goto out;
 345              		.loc 1 289 0
 346 00f2 0025     		movs	r5, #0
 347              	.LVL38:
 348 00f4 04E0     		b	.L13
 349              	.LVL39:
 350              	.L25:
 351 00f6 0025     		movs	r5, #0
 352              	.LVL40:
 353 00f8 02E0     		b	.L13
 354              	.LVL41:
 355              	.L26:
 356 00fa 0025     		movs	r5, #0
 357              	.LVL42:
 358 00fc 00E0     		b	.L13
 359              	.LVL43:
 360              	.L27:
 361 00fe 0025     		movs	r5, #0
 362              	.LVL44:
ARM GAS  C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s 			page 13


 363              	.L13:
 321:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 322:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** out:
 323:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     LOS_IntRestore(uvIntSave);
 364              		.loc 1 323 0
 365 0100 2000     		movs	r0, r4
 366 0102 FFF7FEFF 		bl	LOS_IntRestore
 367              	.LVL45:
 324:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 325:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     return bRet;
 368              		.loc 1 325 0
 369 0106 2800     		movs	r0, r5
 370 0108 02E0     		b	.L9
 371              	.LVL46:
 372              	.L22:
 260:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     }
 373              		.loc 1 260 0
 374 010a 0120     		movs	r0, #1
 375              	.LVL47:
 376 010c 00E0     		b	.L9
 377              	.LVL48:
 378              	.L23:
 379 010e 0120     		movs	r0, #1
 380              	.LVL49:
 381              	.L9:
 326:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** }
 382              		.loc 1 326 0
 383 0110 03B0     		add	sp, sp, #12
 384              		@ sp needed
 385 0112 F0BD     		pop	{r4, r5, r6, r7, pc}
 386              	.L30:
 387              		.align	2
 388              	.L29:
 389 0114 00000000 		.word	.LC0
 390 0118 08000000 		.word	.LC2
 391 011c 00000000 		.word	.LANCHOR0
 392 0120 00000000 		.word	.LANCHOR1
 393              		.cfi_endproc
 394              	.LFE47:
 396              		.section	.text.osHeapStatisticsGet,"ax",%progbits
 397              		.align	2
 398              		.global	osHeapStatisticsGet
 399              		.code	16
 400              		.thumb_func
 402              	osHeapStatisticsGet:
 403              	.LFB49:
 327:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 328:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** LITE_OS_SEC_TEXT_MINOR VOID osAlarmHeapInfo(VOID *pPool)
 329:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** {
 330:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     struct LOS_HEAP_MANAGER *pstHeapMan = HEAP_CAST(struct LOS_HEAP_MANAGER *, pPool);
 331:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     LOS_HEAP_STATUS stStatus = {0};
 332:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     if (LOS_NOK == osHeapStatisticsGet(pPool, &stStatus))
 333:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         return;
 334:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 335:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     PRINT_INFO("pool addr    pool size    total size     used size    free size   alloc Count    fr
 336:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****                         pPool, pstHeapMan->uwSize, stStatus.totalSize, stStatus.usedSize, stStatus.
 337:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     (void)pstHeapMan;
ARM GAS  C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s 			page 14


 338:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** }
 339:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 340:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** LITE_OS_SEC_TEXT_MINOR UINT32 osHeapStatisticsGet(VOID *pPool, LOS_HEAP_STATUS *pstStatus)
 341:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** {
 404              		.loc 1 341 0
 405              		.cfi_startproc
 406              		@ args = 0, pretend = 0, frame = 0
 407              		@ frame_needed = 0, uses_anonymous_args = 0
 408              	.LVL50:
 409 0000 10B5     		push	{r4, lr}
 410              	.LCFI3:
 411              		.cfi_def_cfa_offset 8
 412              		.cfi_offset 4, -8
 413              		.cfi_offset 14, -4
 414              	.LVL51:
 342:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     UINT32 uwHeapUsed = 0;
 343:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     struct LOS_HEAP_NODE *pstNode = NULL;
 344:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     struct LOS_HEAP_MANAGER *pstRamHeap = HEAP_CAST(struct LOS_HEAP_MANAGER *, pPool);
 345:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 346:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     if (!pstRamHeap)
 415              		.loc 1 346 0
 416 0002 0028     		cmp	r0, #0
 417 0004 20D0     		beq	.L36
 347:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     {
 348:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         return LOS_NOK;
 349:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     }
 350:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 351:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     if (NULL == pstStatus)
 418              		.loc 1 351 0
 419 0006 0029     		cmp	r1, #0
 420 0008 20D0     		beq	.L37
 352:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     {
 353:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         return LOS_NOK;
 354:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     }
 355:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 356:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     pstNode = pstRamHeap->pstTail;
 421              		.loc 1 356 0
 422 000a 4368     		ldr	r3, [r0, #4]
 423              	.LVL52:
 342:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     struct LOS_HEAP_NODE *pstNode = NULL;
 424              		.loc 1 342 0
 425 000c 0024     		movs	r4, #0
 357:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     while (pstNode)
 426              		.loc 1 357 0
 427 000e 09E0     		b	.L33
 428              	.LVL53:
 429              	.L35:
 358:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     {
 359:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         if (pstNode->uwUsed)
 430              		.loc 1 359 0
 431 0010 DA79     		ldrb	r2, [r3, #7]
 432 0012 5206     		lsls	r2, r2, #25
 433 0014 05D5     		bpl	.L34
 360:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         {
 361:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****             uwHeapUsed += (pstNode->uwSize + sizeof(struct LOS_HEAP_NODE));
 434              		.loc 1 361 0
 435 0016 5A68     		ldr	r2, [r3, #4]
ARM GAS  C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s 			page 15


 436 0018 9200     		lsls	r2, r2, #2
 437 001a 9208     		lsrs	r2, r2, #2
 438 001c 1219     		adds	r2, r2, r4
 439 001e 0832     		adds	r2, r2, #8
 440 0020 1400     		movs	r4, r2
 441              	.LVL54:
 442              	.L34:
 362:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         }
 363:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         pstNode = pstNode->pstPrev;
 443              		.loc 1 363 0
 444 0022 1B68     		ldr	r3, [r3]
 445              	.LVL55:
 446              	.L33:
 357:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     {
 447              		.loc 1 357 0
 448 0024 002B     		cmp	r3, #0
 449 0026 F3D1     		bne	.L35
 364:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     }
 365:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 366:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     if (pstRamHeap->uwSize < uwHeapUsed)
 450              		.loc 1 366 0
 451 0028 8368     		ldr	r3, [r0, #8]
 452              	.LVL56:
 453 002a 9C42     		cmp	r4, r3
 454 002c 10D8     		bhi	.L38
 367:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     {
 368:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         return LOS_NOK;
 369:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     }
 370:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 371:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     pstStatus->usedSize    = uwHeapUsed;
 455              		.loc 1 371 0
 456 002e 4C60     		str	r4, [r1, #4]
 372:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     pstStatus->totalSize   = pstRamHeap->uwSize;
 457              		.loc 1 372 0
 458 0030 8268     		ldr	r2, [r0, #8]
 459 0032 0A60     		str	r2, [r1]
 373:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     pstStatus->freeSize    = pstStatus->totalSize - pstStatus->usedSize;
 460              		.loc 1 373 0
 461 0034 121B     		subs	r2, r2, r4
 462 0036 8A60     		str	r2, [r1, #8]
 374:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     pstStatus->allocCount  = g_uwAllocCount;
 463              		.loc 1 374 0
 464 0038 064B     		ldr	r3, .L39
 465 003a 1B68     		ldr	r3, [r3]
 466 003c CB60     		str	r3, [r1, #12]
 375:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     pstStatus->freeCount   = g_uwFreeCount;
 467              		.loc 1 375 0
 468 003e 064B     		ldr	r3, .L39+4
 469 0040 1B68     		ldr	r3, [r3]
 470 0042 0B61     		str	r3, [r1, #16]
 376:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 377:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     return LOS_OK;
 471              		.loc 1 377 0
 472 0044 0020     		movs	r0, #0
 473              	.LVL57:
 474 0046 04E0     		b	.L32
 475              	.LVL58:
ARM GAS  C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s 			page 16


 476              	.L36:
 348:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     }
 477              		.loc 1 348 0
 478 0048 0120     		movs	r0, #1
 479              	.LVL59:
 480 004a 02E0     		b	.L32
 481              	.LVL60:
 482              	.L37:
 353:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     }
 483              		.loc 1 353 0
 484 004c 0120     		movs	r0, #1
 485              	.LVL61:
 486 004e 00E0     		b	.L32
 487              	.LVL62:
 488              	.L38:
 368:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     }
 489              		.loc 1 368 0
 490 0050 0120     		movs	r0, #1
 491              	.LVL63:
 492              	.L32:
 378:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** }
 493              		.loc 1 378 0
 494              		@ sp needed
 495 0052 10BD     		pop	{r4, pc}
 496              	.L40:
 497              		.align	2
 498              	.L39:
 499 0054 00000000 		.word	.LANCHOR2
 500 0058 00000000 		.word	.LANCHOR1
 501              		.cfi_endproc
 502              	.LFE49:
 504              		.section	.text.osAlarmHeapInfo,"ax",%progbits
 505              		.align	2
 506              		.global	osAlarmHeapInfo
 507              		.code	16
 508              		.thumb_func
 510              	osAlarmHeapInfo:
 511              	.LFB48:
 329:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     struct LOS_HEAP_MANAGER *pstHeapMan = HEAP_CAST(struct LOS_HEAP_MANAGER *, pPool);
 512              		.loc 1 329 0
 513              		.cfi_startproc
 514              		@ args = 0, pretend = 0, frame = 24
 515              		@ frame_needed = 0, uses_anonymous_args = 0
 516              	.LVL64:
 517 0000 10B5     		push	{r4, lr}
 518              	.LCFI4:
 519              		.cfi_def_cfa_offset 8
 520              		.cfi_offset 4, -8
 521              		.cfi_offset 14, -4
 522 0002 86B0     		sub	sp, sp, #24
 523              	.LCFI5:
 524              		.cfi_def_cfa_offset 32
 525 0004 0400     		movs	r4, r0
 526              	.LVL65:
 331:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     if (LOS_NOK == osHeapStatisticsGet(pPool, &stStatus))
 527              		.loc 1 331 0
 528 0006 1422     		movs	r2, #20
ARM GAS  C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s 			page 17


 529 0008 0021     		movs	r1, #0
 530 000a 01A8     		add	r0, sp, #4
 531              	.LVL66:
 532 000c FFF7FEFF 		bl	memset
 533              	.LVL67:
 332:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         return;
 534              		.loc 1 332 0
 535 0010 01A9     		add	r1, sp, #4
 536 0012 2000     		movs	r0, r4
 537 0014 FFF7FEFF 		bl	osHeapStatisticsGet
 538              	.LVL68:
 338:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 539              		.loc 1 338 0
 540 0018 06B0     		add	sp, sp, #24
 541              		@ sp needed
 542              	.LVL69:
 543 001a 10BD     		pop	{r4, pc}
 544              		.cfi_endproc
 545              	.LFE48:
 547              		.section	.text.osHeapAlloc,"ax",%progbits
 548              		.align	2
 549              		.global	osHeapAlloc
 550              		.code	16
 551              		.thumb_func
 553              	osHeapAlloc:
 554              	.LFB45:
 114:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     struct LOS_HEAP_NODE *pstNode, *pstT, *pstBest = NULL;
 555              		.loc 1 114 0
 556              		.cfi_startproc
 557              		@ args = 0, pretend = 0, frame = 8
 558              		@ frame_needed = 0, uses_anonymous_args = 0
 559              	.LVL70:
 560 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 561              	.LCFI6:
 562              		.cfi_def_cfa_offset 20
 563              		.cfi_offset 4, -20
 564              		.cfi_offset 5, -16
 565              		.cfi_offset 6, -12
 566              		.cfi_offset 7, -8
 567              		.cfi_offset 14, -4
 568 0002 83B0     		sub	sp, sp, #12
 569              	.LCFI7:
 570              		.cfi_def_cfa_offset 32
 571 0004 0700     		movs	r7, r0
 572 0006 0E00     		movs	r6, r1
 573              	.LVL71:
 120:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     {
 574              		.loc 1 120 0
 575 0008 0028     		cmp	r0, #0
 576 000a 7AD0     		beq	.L57
 125:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 577              		.loc 1 125 0
 578 000c FFF7FEFF 		bl	LOS_IntLock
 579              	.LVL72:
 580 0010 0190     		str	r0, [sp, #4]
 581              	.LVL73:
 127:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     pstNode = pstHeapMan->pstTail;
ARM GAS  C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s 			page 18


 582              		.loc 1 127 0
 583 0012 0336     		adds	r6, r6, #3
 584              	.LVL74:
 585 0014 0323     		movs	r3, #3
 586 0016 9E43     		bics	r6, r3
 587              	.LVL75:
 128:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 588              		.loc 1 128 0
 589 0018 7B68     		ldr	r3, [r7, #4]
 590              	.LVL76:
 115:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     VOID* pRet = NULL;
 591              		.loc 1 115 0
 592 001a 0025     		movs	r5, #0
 130:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     {
 593              		.loc 1 130 0
 594 001c 13E0     		b	.L46
 595              	.LVL77:
 596              	.L50:
 132:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         {
 597              		.loc 1 132 0
 598 001e DA79     		ldrb	r2, [r3, #7]
 599 0020 5206     		lsls	r2, r2, #25
 600 0022 0FD4     		bmi	.L47
 132:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         {
 601              		.loc 1 132 0 is_stmt 0 discriminator 1
 602 0024 5A68     		ldr	r2, [r3, #4]
 603 0026 9200     		lsls	r2, r2, #2
 604 0028 9208     		lsrs	r2, r2, #2
 605 002a 1000     		movs	r0, r2
 606 002c 9642     		cmp	r6, r2
 607 002e 09D8     		bhi	.L47
 132:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         {
 608              		.loc 1 132 0 discriminator 2
 609 0030 002D     		cmp	r5, #0
 610 0032 04D0     		beq	.L48
 132:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         {
 611              		.loc 1 132 0 discriminator 3
 612 0034 6968     		ldr	r1, [r5, #4]
 613 0036 8900     		lsls	r1, r1, #2
 614 0038 8908     		lsrs	r1, r1, #2
 615 003a 9142     		cmp	r1, r2
 616 003c 02DD     		ble	.L47
 617              	.L48:
 618              	.LVL78:
 135:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****             {
 619              		.loc 1 135 0 is_stmt 1
 620 003e 8642     		cmp	r6, r0
 621 0040 38D0     		beq	.L58
 134:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****             if (pstBest->uwSize == uwSz)
 622              		.loc 1 134 0
 623 0042 1D00     		movs	r5, r3
 624              	.LVL79:
 625              	.L47:
 140:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     }
 626              		.loc 1 140 0
 627 0044 1B68     		ldr	r3, [r3]
 628              	.LVL80:
ARM GAS  C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s 			page 19


 629              	.L46:
 130:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     {
 630              		.loc 1 130 0
 631 0046 002B     		cmp	r3, #0
 632 0048 E9D1     		bne	.L50
 143:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     {
 633              		.loc 1 143 0
 634 004a 002D     		cmp	r5, #0
 635 004c 07D1     		bne	.L51
 145:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         goto out;
 636              		.loc 1 145 0
 637 004e 2E48     		ldr	r0, .L59
 638 0050 FFF7FEFF 		bl	printf
 639              	.LVL81:
 640 0054 3100     		movs	r1, r6
 641 0056 2D48     		ldr	r0, .L59+4
 642 0058 FFF7FEFF 		bl	printf
 643              	.LVL82:
 146:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     }
 644              		.loc 1 146 0
 645 005c 42E0     		b	.L52
 646              	.LVL83:
 647              	.L51:
 149:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     {
 648              		.loc 1 149 0
 649 005e 6B68     		ldr	r3, [r5, #4]
 650              	.LVL84:
 651 0060 9B00     		lsls	r3, r3, #2
 652 0062 9B08     		lsrs	r3, r3, #2
 653 0064 9B1B     		subs	r3, r3, r6
 654 0066 082B     		cmp	r3, #8
 655 0068 25D9     		bls	.L49
 152:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 656              		.loc 1 152 0
 657 006a 2B00     		movs	r3, r5
 658 006c 0833     		adds	r3, r3, #8
 659 006e 9C19     		adds	r4, r3, r6
 660              	.LVL85:
 154:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         pstNode->uwSize = pstBest->uwSize - uwSz- sizeof(struct LOS_HEAP_NODE);
 661              		.loc 1 154 0
 662 0070 E379     		ldrb	r3, [r4, #7]
 663 0072 4022     		movs	r2, #64
 664 0074 9343     		bics	r3, r2
 665 0076 E371     		strb	r3, [r4, #7]
 666              	.LVL86:
 155:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         pstNode->pstPrev = pstBest;
 667              		.loc 1 155 0
 668 0078 6B68     		ldr	r3, [r5, #4]
 669 007a 9B00     		lsls	r3, r3, #2
 670 007c 9B08     		lsrs	r3, r3, #2
 671 007e 9B1B     		subs	r3, r3, r6
 672 0080 083B     		subs	r3, r3, #8
 673 0082 9B00     		lsls	r3, r3, #2
 674 0084 9A08     		lsrs	r2, r3, #2
 675 0086 6368     		ldr	r3, [r4, #4]
 676 0088 9B0F     		lsrs	r3, r3, #30
 677 008a 9B07     		lsls	r3, r3, #30
ARM GAS  C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s 			page 20


 678 008c 1343     		orrs	r3, r2
 679 008e 6360     		str	r3, [r4, #4]
 156:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 680              		.loc 1 156 0
 681 0090 2560     		str	r5, [r4]
 158:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 682              		.loc 1 158 0
 683 0092 2900     		movs	r1, r5
 684 0094 3800     		movs	r0, r7
 685 0096 FFF7FEFF 		bl	osHeapPrvGetNext
 686              	.LVL87:
 160:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         {
 687              		.loc 1 160 0
 688 009a 0028     		cmp	r0, #0
 689 009c 01D1     		bne	.L53
 162:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         }
 690              		.loc 1 162 0
 691 009e 7C60     		str	r4, [r7, #4]
 692 00a0 00E0     		b	.L54
 693              	.L53:
 166:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         }
 694              		.loc 1 166 0
 695 00a2 0460     		str	r4, [r0]
 696              	.L54:
 169:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     }
 697              		.loc 1 169 0
 698 00a4 B300     		lsls	r3, r6, #2
 699 00a6 9A08     		lsrs	r2, r3, #2
 700 00a8 6B68     		ldr	r3, [r5, #4]
 701 00aa 9B0F     		lsrs	r3, r3, #30
 702 00ac 9B07     		lsls	r3, r3, #30
 703 00ae 1343     		orrs	r3, r2
 704 00b0 6B60     		str	r3, [r5, #4]
 705 00b2 00E0     		b	.L49
 706              	.LVL88:
 707              	.L58:
 134:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****             if (pstBest->uwSize == uwSz)
 708              		.loc 1 134 0
 709 00b4 1D00     		movs	r5, r3
 710              	.LVL89:
 711              	.L49:
 173:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     pstBest->uwUsed = 1;
 712              		.loc 1 173 0
 713 00b6 EB79     		ldrb	r3, [r5, #7]
 174:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     pRet = pstBest->ucData;
 714              		.loc 1 174 0
 715 00b8 7F22     		movs	r2, #127
 716 00ba 1340     		ands	r3, r2
 717 00bc 4022     		movs	r2, #64
 718 00be 1343     		orrs	r3, r2
 719 00c0 EB71     		strb	r3, [r5, #7]
 175:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** #if (LOSCFG_MEM_TASK_USED_STATISTICS == YES)
 720              		.loc 1 175 0
 721 00c2 0835     		adds	r5, r5, #8
 722              	.LVL90:
 181:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     if(g_uwCurHeapUsed > g_uwMaxHeapUsed)
 723              		.loc 1 181 0
ARM GAS  C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s 			page 21


 724 00c4 124B     		ldr	r3, .L59+8
 725 00c6 1A68     		ldr	r2, [r3]
 726 00c8 9446     		mov	ip, r2
 727 00ca 6644     		add	r6, r6, ip
 728              	.LVL91:
 729 00cc 0836     		adds	r6, r6, #8
 730 00ce 1E60     		str	r6, [r3]
 182:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     {
 731              		.loc 1 182 0
 732 00d0 104B     		ldr	r3, .L59+12
 733 00d2 1B68     		ldr	r3, [r3]
 734 00d4 9E42     		cmp	r6, r3
 735 00d6 01D9     		bls	.L55
 184:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     }
 736              		.loc 1 184 0
 737 00d8 0E4B     		ldr	r3, .L59+12
 738 00da 1E60     		str	r6, [r3]
 739              	.L55:
 188:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 740              		.loc 1 188 0
 741 00dc 0E4A     		ldr	r2, .L59+16
 742 00de 1368     		ldr	r3, [r2]
 743 00e0 0133     		adds	r3, r3, #1
 744 00e2 1360     		str	r3, [r2]
 745              	.LVL92:
 746              	.L52:
 191:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         osAlarmHeapInfo(pstHeapMan);
 747              		.loc 1 191 0
 748 00e4 7B68     		ldr	r3, [r7, #4]
 749 00e6 5B68     		ldr	r3, [r3, #4]
 750 00e8 9B00     		lsls	r3, r3, #2
 751 00ea 9B08     		lsrs	r3, r3, #2
 752 00ec 0B4A     		ldr	r2, .L59+20
 753 00ee 9342     		cmp	r3, r2
 754 00f0 02DC     		bgt	.L56
 192:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 755              		.loc 1 192 0
 756 00f2 3800     		movs	r0, r7
 757 00f4 FFF7FEFF 		bl	osAlarmHeapInfo
 758              	.LVL93:
 759              	.L56:
 194:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 760              		.loc 1 194 0
 761 00f8 0198     		ldr	r0, [sp, #4]
 762 00fa FFF7FEFF 		bl	LOS_IntRestore
 763              	.LVL94:
 196:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** }
 764              		.loc 1 196 0
 765 00fe 2800     		movs	r0, r5
 766 0100 00E0     		b	.L45
 767              	.LVL95:
 768              	.L57:
 122:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     }
 769              		.loc 1 122 0
 770 0102 0020     		movs	r0, #0
 771              	.LVL96:
 772              	.L45:
ARM GAS  C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s 			page 22


 197:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 773              		.loc 1 197 0
 774 0104 03B0     		add	sp, sp, #12
 775              		@ sp needed
 776              	.LVL97:
 777 0106 F0BD     		pop	{r4, r5, r6, r7, pc}
 778              	.L60:
 779              		.align	2
 780              	.L59:
 781 0108 00000000 		.word	.LC0
 782 010c 1C000000 		.word	.LC9
 783 0110 00000000 		.word	.LANCHOR0
 784 0114 00000000 		.word	.LANCHOR3
 785 0118 00000000 		.word	.LANCHOR2
 786 011c FF030000 		.word	1023
 787              		.cfi_endproc
 788              	.LFE45:
 790              		.section	.text.osHeapAllocAlign,"ax",%progbits
 791              		.align	2
 792              		.global	osHeapAllocAlign
 793              		.code	16
 794              		.thumb_func
 796              	osHeapAllocAlign:
 797              	.LFB46:
 209:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     VOID *pRet = NULL;
 798              		.loc 1 209 0
 799              		.cfi_startproc
 800              		@ args = 0, pretend = 0, frame = 0
 801              		@ frame_needed = 0, uses_anonymous_args = 0
 802              	.LVL98:
 803 0000 10B5     		push	{r4, lr}
 804              	.LCFI8:
 805              		.cfi_def_cfa_offset 8
 806              		.cfi_offset 4, -8
 807              		.cfi_offset 14, -4
 808 0002 1400     		movs	r4, r2
 809              	.LVL99:
 215:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     {
 810              		.loc 1 215 0
 811 0004 0028     		cmp	r0, #0
 812 0006 1AD0     		beq	.L63
 215:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     {
 813              		.loc 1 215 0 is_stmt 0 discriminator 1
 814 0008 0029     		cmp	r1, #0
 815 000a 1AD0     		beq	.L64
 215:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     {
 816              		.loc 1 215 0 discriminator 2
 817 000c 032A     		cmp	r2, #3
 818 000e 1AD9     		bls	.L65
 215:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     {
 819              		.loc 1 215 0 discriminator 3
 820 0010 531E     		subs	r3, r2, #1
 821 0012 1342     		tst	r3, r2
 822 0014 19D1     		bne	.L66
 221:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     pRet = osHeapAlloc(pPool, uwUseSize);
 823              		.loc 1 221 0 is_stmt 1
 824 0016 8918     		adds	r1, r1, r2
ARM GAS  C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s 			page 23


 825              	.LVL100:
 826 0018 0439     		subs	r1, r1, #4
 827              	.LVL101:
 222:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 828              		.loc 1 222 0
 829 001a FFF7FEFF 		bl	osHeapAlloc
 830              	.LVL102:
 224:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     {
 831              		.loc 1 224 0
 832 001e 0028     		cmp	r0, #0
 833 0020 14D0     		beq	.L62
 226:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         if (pRet == pAlignedPtr)
 834              		.loc 1 226 0
 835 0022 2318     		adds	r3, r4, r0
 836 0024 013B     		subs	r3, r3, #1
 837 0026 6242     		rsbs	r2, r4, #0
 838 0028 1A40     		ands	r2, r3
 839              	.LVL103:
 227:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         {
 840              		.loc 1 227 0
 841 002a 9042     		cmp	r0, r2
 842 002c 0ED0     		beq	.L62
 232:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         OS_MEM_SET_ALIGN_FLAG(uwGapSize);
 843              		.loc 1 232 0
 844 002e 101A     		subs	r0, r2, r0
 845              	.LVL104:
 233:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         *((UINT32 *)((UINT32)pAlignedPtr - 4)) = uwGapSize;
 846              		.loc 1 233 0
 847 0030 8023     		movs	r3, #128
 848 0032 1B06     		lsls	r3, r3, #24
 849 0034 1843     		orrs	r0, r3
 850              	.LVL105:
 234:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 851              		.loc 1 234 0
 852 0036 131F     		subs	r3, r2, #4
 853 0038 1860     		str	r0, [r3]
 854              	.LVL106:
 236:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     }
 855              		.loc 1 236 0
 856 003a 1000     		movs	r0, r2
 857              	.LVL107:
 858 003c 06E0     		b	.L62
 859              	.LVL108:
 860              	.L63:
 217:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     }
 861              		.loc 1 217 0
 862 003e 0020     		movs	r0, #0
 863              	.LVL109:
 864 0040 04E0     		b	.L62
 865              	.LVL110:
 866              	.L64:
 867 0042 0020     		movs	r0, #0
 868              	.LVL111:
 869 0044 02E0     		b	.L62
 870              	.LVL112:
 871              	.L65:
 872 0046 0020     		movs	r0, #0
ARM GAS  C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s 			page 24


 873              	.LVL113:
 874 0048 00E0     		b	.L62
 875              	.LVL114:
 876              	.L66:
 877 004a 0020     		movs	r0, #0
 878              	.LVL115:
 879              	.L62:
 240:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 880              		.loc 1 240 0
 881              		@ sp needed
 882              	.LVL116:
 883 004c 10BD     		pop	{r4, pc}
 884              		.cfi_endproc
 885              	.LFE46:
 887 004e C046     		.section	.text.osHeapGetHeapMemoryPeak,"ax",%progbits
 888              		.align	2
 889              		.global	osHeapGetHeapMemoryPeak
 890              		.code	16
 891              		.thumb_func
 893              	osHeapGetHeapMemoryPeak:
 894              	.LFB50:
 379:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 380:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** #if (LOSCFG_HEAP_MEMORY_PEAK_STATISTICS == YES)
 381:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** LITE_OS_SEC_TEXT_MINOR UINT32 osHeapGetHeapMemoryPeak(VOID)
 382:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** {
 895              		.loc 1 382 0
 896              		.cfi_startproc
 897              		@ args = 0, pretend = 0, frame = 0
 898              		@ frame_needed = 0, uses_anonymous_args = 0
 899              		@ link register save eliminated.
 383:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     return g_uwMaxHeapUsed;
 900              		.loc 1 383 0
 901 0000 014B     		ldr	r3, .L70
 902 0002 1868     		ldr	r0, [r3]
 384:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** }
 903              		.loc 1 384 0
 904              		@ sp needed
 905 0004 7047     		bx	lr
 906              	.L71:
 907 0006 C046     		.align	2
 908              	.L70:
 909 0008 00000000 		.word	.LANCHOR3
 910              		.cfi_endproc
 911              	.LFE50:
 913              		.section	.text.osHeapGetMaxFreeBlkSize,"ax",%progbits
 914              		.align	2
 915              		.global	osHeapGetMaxFreeBlkSize
 916              		.code	16
 917              		.thumb_func
 919              	osHeapGetMaxFreeBlkSize:
 920              	.LFB51:
 385:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** #endif
 386:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 387:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** LITE_OS_SEC_TEXT_MINOR UINT32 osHeapGetMaxFreeBlkSize(VOID *pPool)
 388:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** {
 921              		.loc 1 388 0
 922              		.cfi_startproc
ARM GAS  C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s 			page 25


 923              		@ args = 0, pretend = 0, frame = 0
 924              		@ frame_needed = 0, uses_anonymous_args = 0
 925              		@ link register save eliminated.
 926              	.LVL117:
 389:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     UINT32 uwSize = 0;
 390:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     UINT32 uwTemp = 0;
 391:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     struct LOS_HEAP_NODE *pstNode = NULL;
 392:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 393:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     struct LOS_HEAP_MANAGER *pstRamHeap = HEAP_CAST(struct LOS_HEAP_MANAGER *, pPool);
 394:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 395:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     if (!pstRamHeap)
 927              		.loc 1 395 0
 928 0000 0028     		cmp	r0, #0
 929 0002 0FD0     		beq	.L77
 396:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     {
 397:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         return LOS_NOK;
 398:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     }
 399:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 400:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     pstNode = pstRamHeap->pstTail;
 930              		.loc 1 400 0
 931 0004 4368     		ldr	r3, [r0, #4]
 932              	.LVL118:
 389:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     UINT32 uwSize = 0;
 933              		.loc 1 389 0
 934 0006 0020     		movs	r0, #0
 935              	.LVL119:
 401:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** 
 402:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     while (pstNode)
 936              		.loc 1 402 0
 937 0008 09E0     		b	.L74
 938              	.LVL120:
 939              	.L76:
 403:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     {
 404:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         if (!(pstNode->uwUsed))
 940              		.loc 1 404 0
 941 000a DA79     		ldrb	r2, [r3, #7]
 942 000c 5206     		lsls	r2, r2, #25
 943 000e 05D4     		bmi	.L75
 405:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         {
 406:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****             uwTemp = pstNode->uwSize;
 944              		.loc 1 406 0
 945 0010 5A68     		ldr	r2, [r3, #4]
 946 0012 9200     		lsls	r2, r2, #2
 947 0014 9208     		lsrs	r2, r2, #2
 948              	.LVL121:
 407:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****             if (uwTemp > uwSize)
 949              		.loc 1 407 0
 950 0016 9042     		cmp	r0, r2
 951 0018 00D2     		bcs	.L75
 408:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****             {
 409:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****                 uwSize = uwTemp;
 952              		.loc 1 409 0
 953 001a 1000     		movs	r0, r2
 954              	.LVL122:
 955              	.L75:
 410:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****             }
 411:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         }
ARM GAS  C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s 			page 26


 412:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****         pstNode = pstNode->pstPrev;
 956              		.loc 1 412 0
 957 001c 1B68     		ldr	r3, [r3]
 958              	.LVL123:
 959              	.L74:
 402:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     {
 960              		.loc 1 402 0
 961 001e 002B     		cmp	r3, #0
 962 0020 F3D1     		bne	.L76
 963 0022 00E0     		b	.L73
 964              	.LVL124:
 965              	.L77:
 397:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     }
 966              		.loc 1 397 0
 967 0024 0120     		movs	r0, #1
 968              	.LVL125:
 969              	.L73:
 413:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     }
 414:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c ****     return uwSize;
 415:e:/LiteOS/LiteOS/targets/Cloud_FM33A0XX/GCC/../../../kernel/base/mem/bestfit_little\los_heap.c **** }
 970              		.loc 1 415 0
 971              		@ sp needed
 972 0026 7047     		bx	lr
 973              		.cfi_endproc
 974              	.LFE51:
 976              		.section	.bss.g_uwFreeCount,"aw",%nobits
 977              		.align	2
 978              		.set	.LANCHOR1,. + 0
 981              	g_uwFreeCount:
 982 0000 00000000 		.space	4
 983              		.section	.bss.g_uwCurHeapUsed,"aw",%nobits
 984              		.align	2
 985              		.set	.LANCHOR0,. + 0
 988              	g_uwCurHeapUsed:
 989 0000 00000000 		.space	4
 990              		.section	.bss.g_uwAllocCount,"aw",%nobits
 991              		.align	2
 992              		.set	.LANCHOR2,. + 0
 995              	g_uwAllocCount:
 996 0000 00000000 		.space	4
 997              		.section	.rodata.str1.4,"aMS",%progbits,1
 998              		.align	2
 999              	.LC0:
 1000 0000 5B455252 		.ascii	"[ERR] \000"
 1000      5D2000
 1001 0007 00       		.space	1
 1002              	.LC2:
 1003 0008 30782578 		.ascii	"0x%x out of range!\012\000"
 1003      206F7574 
 1003      206F6620 
 1003      72616E67 
 1003      65210A00 
 1004              	.LC9:
 1005 001c 74686572 		.ascii	"there's not enough whole to alloc %x Bytes!\012\000"
 1005      65277320 
 1005      6E6F7420 
 1005      656E6F75 
ARM GAS  C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s 			page 27


 1005      67682077 
 1006              		.section	.bss.g_uwMaxHeapUsed,"aw",%nobits
 1007              		.align	2
 1008              		.set	.LANCHOR3,. + 0
 1011              	g_uwMaxHeapUsed:
 1012 0000 00000000 		.space	4
 1013              		.text
 1014              	.Letext0:
 1015              		.file 2 "e:\\liteos\\liteos\\kernel\\include\\los_typedef.h"
 1016              		.file 3 "e:\\liteos\\liteos\\kernel\\base\\include\\los_slab.ph"
 1017              		.file 4 "e:\\liteos\\liteos\\kernel\\include\\los_heap.h"
 1018              		.file 5 "e:\\liteos\\liteos\\kernel\\base\\include\\los_heap.ph"
 1019              		.file 6 "d:\\gnu tools arm embedded\\5.4 2016q3\\arm-none-eabi\\include\\stdio.h"
 1020              		.file 7 "e:\\liteos\\liteos\\arch\\arm\\arm-m\\include\\los_hwi.h"
ARM GAS  C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s 			page 28


DEFINED SYMBOLS
                            *ABS*:00000000 los_heap.c
C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s:20     .text.osHeapPrvGetNext:00000000 $t
C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s:25     .text.osHeapPrvGetNext:00000000 osHeapPrvGetNext
C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s:60     .text.osHeapInit:00000000 $t
C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s:65     .text.osHeapInit:00000000 osHeapInit
C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s:143    .text.osHeapFree:00000000 $t
C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s:148    .text.osHeapFree:00000000 osHeapFree
C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s:389    .text.osHeapFree:00000114 $d
C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s:397    .text.osHeapStatisticsGet:00000000 $t
C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s:402    .text.osHeapStatisticsGet:00000000 osHeapStatisticsGet
C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s:499    .text.osHeapStatisticsGet:00000054 $d
C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s:505    .text.osAlarmHeapInfo:00000000 $t
C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s:510    .text.osAlarmHeapInfo:00000000 osAlarmHeapInfo
C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s:548    .text.osHeapAlloc:00000000 $t
C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s:553    .text.osHeapAlloc:00000000 osHeapAlloc
C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s:781    .text.osHeapAlloc:00000108 $d
C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s:791    .text.osHeapAllocAlign:00000000 $t
C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s:796    .text.osHeapAllocAlign:00000000 osHeapAllocAlign
C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s:888    .text.osHeapGetHeapMemoryPeak:00000000 $t
C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s:893    .text.osHeapGetHeapMemoryPeak:00000000 osHeapGetHeapMemoryPeak
C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s:909    .text.osHeapGetHeapMemoryPeak:00000008 $d
C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s:914    .text.osHeapGetMaxFreeBlkSize:00000000 $t
C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s:919    .text.osHeapGetMaxFreeBlkSize:00000000 osHeapGetMaxFreeBlkSize
C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s:977    .bss.g_uwFreeCount:00000000 $d
C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s:981    .bss.g_uwFreeCount:00000000 g_uwFreeCount
C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s:984    .bss.g_uwCurHeapUsed:00000000 $d
C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s:988    .bss.g_uwCurHeapUsed:00000000 g_uwCurHeapUsed
C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s:991    .bss.g_uwAllocCount:00000000 $d
C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s:995    .bss.g_uwAllocCount:00000000 g_uwAllocCount
C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s:998    .rodata.str1.4:00000000 $d
C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s:1007   .bss.g_uwMaxHeapUsed:00000000 $d
C:\Users\WANGBI~1\AppData\Local\Temp\cczwudow.s:1011   .bss.g_uwMaxHeapUsed:00000000 g_uwMaxHeapUsed
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
memset
printf
LOS_IntLock
LOS_IntRestore
